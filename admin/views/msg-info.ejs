<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="/assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/assets/css/user-info/index.css" />
    <title>IPPIE | Mensagens</title>
    <link
      href="//cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css"
      rel="stylesheet"
    />
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    <script defer src="/assets/js/dashboard/logout-handler.js"></script>
    
    <script src="/assets/js/user-info/AlteraMatricula.js" defer></script>
  </head>
  <body class="container mt-3">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <h2
          class="navbar-brand"
          style="font-size: 2em; font-weight: bold"
          href="#"
        >
          Mensagens
        </h2>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link active"
                style="font-weight: bold"
                aria-current="page"
                href="/"
                >Dashboard</a
              >
            </li>
            <li class="nav-item">
              <form id="logoutLink">
                <button
                  class="nav-link active border-0"
                  style="font-weight: bold; background-color: #f6f9ff"
                  aria-current="page"
                  href="#"
                >
                  Logout
                </button>
              </form>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container text-center infos">
      <div class="row">
        <!-- <div class="col-sm-4 p-2 bg-white photoBox rounded">
          <button class="btn btn-outline-primary" id="btn-confirm">
            Confirmar
          </button>
          <button class="btn btn-outline-danger" id="btn-reject">
            Rejeitar
          </button>
        </div> -->
        <div class="col rounded p-4 bg-white">
          <div class="campo">
            <span class="campo__nome">Nome Completo</span>
            <span class="campo__valor"><span id="txt-nome"><%= mensagem.nome %></span><button class="btn btn-primary m-lg-1" onclick="copyContent('txt-nome', this)">Copiar</butto> </span>
          </div>
          <div class="campo">
            <span class="campo__nome">Email</span>
            <span class="campo__valor"><span id="txt-email"><%= mensagem.email %></span> 
            <button class="btn btn-primary m-lg-1" onclick="copyContent('txt-email', this)">Copiar</butto></span>
          </div>
          <div  class="pt-1 campo" style="display: block; text-align: justify;" >
            <span class="campo__nome">Mensagem</span><br>  
            <div  style="text-indent: 2em;"><%= mensagem.mensagem %></div>
          </div>
        </div>
      </div>
      <div class="row">
        
      </div>
    </div>
  </body>
  <script>
    async function copyContent (id, btn) {
      const elemento = document.getElementById(id);
      const mensagem = elemento.innerHTML
      try {
        await navigator.clipboard.writeText(mensagem);
        setTimeout(() => {
          btn.innerText = 'Copiar'
        }, 2000)
        btn.innerText = 'Copiado!'
      } catch (err) {
        console.error('Failed to copy: ', err);
      }
    }
  </script>
</html>